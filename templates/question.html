{% extends "layout.html" %}
{% block title %}Question{% endblock %}
{% block content %}

    <h1 align="center">{{ question['title'] }}</h1>
    <div id="question_box">
        <div id="infobox">
            <div id="date">
                <em><strong>Submitted at: </strong>{{ question['submission_time'] }}</em>
            </div>
            <div id="delete">
                <a href="/question/{{ question['id'] }}/delete"><img src="../images/icons/delete.png" width="20"></a>
            </div>
            <div id="edit">
                <a href="/question/{{ question['id'] }}/edit"><img src="../images/icons/edit.png" width="20"></a>
            </div>
            <div id="vote_number">
                <em><strong>Vote: </strong>{{ question['vote_number'] }}</em>
                <a href="/question/{{ question['id'] }}/upvote"><img src="../images/icons/upvote.png" width="10"></a>
                <a href="/question/{{ question['id'] }}/downvote"><img src="../images/icons/downvote.png" width="10"></a>
            </div>
            <div id="view_number">
                <em><strong>View: </strong>{{ question['view_number'] }}</em>
            </div>
        </div>
        <div id="question-message">
            {{ question['message'] }}
        </div>
        <div id="image">
            {% if question['image'] %}
                <img src="../{{ question['image'] }}" width="600">
            {%  endif %}
        </div>
    </div>

    <h2 align="center">Answers</h2>

    {% for answer in answers %}
    <div class="answer">
            <div id="answerinfobox">
                <div id="date">
                    <em><strong>Submitted at: </strong>{{ answer['submission_time'] }}</em>
                </div>
                <div id="delete">
                    <a href="/answer/{{ answer['id'] }}/delete"><img src="../images/icons/delete.png" width="20"></a>
                </div>
                
                <div id="vote_number">
                    <em><strong>Vote: </strong>{{ answer['vote_number'] }}</em>
                    <a href="/answer/{{ answer['id'] }}/upvote"><img src="../images/icons/upvote.png" width="10"></a>
                    <a href="/answer/{{ answer['id'] }}/downvote"><img src="../images/icons/downvote.png" width="10"></a>
                </div>
            </div>
            <div class="answermessage">
                {{ answer['message'] }}
            </div>
        <div class="answerpic">
            {% if answer['image'] %}
                <img src="../{{ answer['image'] }}" width="300">
            {%  endif %}
        </div>
    </div>
    {% endfor %}
    <div style="margin: 40px 0 60px;" id="new_answer" align="center">
        <div id="new_answer_form" style="width: 740px" align="left">
            <form action="/question/{{ question['id'] }}/new-answer" method="POST" enctype="multipart/form-data">
                <p><textarea name="message" rows="10" cols="100" placeholder="Enter your answer!" required></textarea></p>
                <p><input type="file" name="picture_upload" accept=".jpg, .png, .jpeg"></p>
                <p><input type="submit" value="Add answer" name="new_answer"></p>
            </form> 
        </div>
    </div>
    

{% endblock %}